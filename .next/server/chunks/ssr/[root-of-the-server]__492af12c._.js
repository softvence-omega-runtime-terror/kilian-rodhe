module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},50944,(a,b,c)=>{b.exports=a.r(74137)},21372,a=>{a.v("/_next/static/media/Icon (2).e2210c62.svg")},93527,a=>{a.v("/_next/static/media/Icon (4).70f16bc0.svg")},76622,a=>{a.v("/_next/static/media/Icon (8).6ddd27f4.svg")},75159,a=>{a.v("/_next/static/media/Icon (1).ff69c762.svg")},45531,a=>{a.v("/_next/static/media/Icon (3).8a7ded90.svg")},84504,a=>{"use strict";a.s(["default",()=>b]);let b={src:a.i(21372).default,width:20,height:20,blurWidth:0,blurHeight:0}},27701,46969,a=>{"use strict";a.s(["default",()=>b],27701);let b={src:a.i(93527).default,width:20,height:20,blurWidth:0,blurHeight:0};a.s(["default",()=>c],46969);let c={src:a.i(76622).default,width:20,height:20,blurWidth:0,blurHeight:0}},33608,a=>{"use strict";a.s(["default",()=>q],33608);var b=a.i(87924),c=a.i(72131),d=a.i(71987);let e={src:a.i(75159).default,width:16,height:16,blurWidth:0,blurHeight:0};var f=a.i(84504);let g={src:a.i(45531).default,width:20,height:20,blurWidth:0,blurHeight:0};var h=a.i(27701),i=a.i(46969),j=a.i(71682),k=a.i(85437),l=a.i(24964),m=a.i(50944),n=a.i(14174),o=a.i(23292);function p({email:a}){let d=(0,m.useRouter)(),e=(0,n.useDispatch)(),[f,g]=(0,c.useState)(Array(6).fill("")),[h,{isLoading:i}]=(0,k.useVerifyOtpMutation)(),j=async b=>{if(b.preventDefault(),f.some(a=>""===a))return void o.toast.error("Please enter the full 6-digit OTP");let c=f.join("");try{let b=await h({email:a,otp:c}).unwrap(),f={..."string"==typeof b.data.user?JSON.parse(b.data.user):b.data.user,profile:b.data.profile||{}};e((0,l.setCredentials)({user:f,access:b.data.tokens.access||"",refresh:b.data.tokens.refresh||""})),o.toast.success(b.message),console.log("Full user with profile dispatched:",f),d.push("/")}catch(a){o.toast.error(a?.data?.message||"OTP verification failed")}};return(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md border border-gray-200",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-center mb-6",children:"Verify Your Email"}),(0,b.jsxs)("p",{className:"text-center text-sm text-gray-500 mb-6",children:["We sent a 6-digit code to ",(0,b.jsx)("span",{className:"font-medium",children:a})]}),(0,b.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex justify-between gap-2",children:f.map((a,c)=>(0,b.jsx)("input",{id:`otp-${c}`,type:"text",maxLength:1,value:a,onChange:a=>((a,b)=>{if(!/^\d?$/.test(b))return;let c=[...f];c[a]=b,g(c),b&&a<5&&document.getElementById(`otp-${a+1}`)?.focus()})(c,a.target.value),className:"w-12 h-12 text-center border border-gray-300 rounded-lg text-lg focus:ring-1 focus:ring-gray-400 focus:outline-none"},c))}),(0,b.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-b from-[#8b6f47] to-[#7a5f3a] h-12 text-white rounded-lg hover:opacity-90 transition disabled:opacity-50",children:i?"Verifying...":"Verify Email"})]})]})})}function q(){let[a,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[o,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),[F,{isLoading:G}]=(0,k.useRegisterMutation)(),[H,I]=(0,c.useState)(!1),J=async a=>{if(a.preventDefault(),x!==z)return void alert("Passwords do not match!");let b=new FormData;b.append("first_name",o),b.append("last_name",r),b.append("phone_number",v),b.append("email",t),b.append("password",x),b.append("password2",z),B&&b.append("image",B);try{let a=await F(b).unwrap();a?.message&&I(!0)}catch(a){console.error("Registration failed:",a),alert(a?.data?.message||"Registration failed. Try again.")}};return H?(0,b.jsx)(p,{email:t}):(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-md border border-gray-200",children:[(0,b.jsx)("h2",{className:"font-['Cormorant_Garamond'] text-[#1A1410] text-[36px] font-semibold text-center mb-7",children:"Create New Account"}),(0,b.jsxs)("form",{className:"space-y-4",onSubmit:J,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"First Name *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:e,alt:"User",width:16,height:16,className:"absolute left-3 top-3"}),(0,b.jsx)("input",{type:"text",placeholder:"John",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg",value:o,onChange:a=>q(a.target.value),required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Last Name *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:e,alt:"User",width:16,height:16,className:"absolute left-3 top-3"}),(0,b.jsx)("input",{type:"text",placeholder:"Doe",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg",value:r,onChange:a=>s(a.target.value),required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Email *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:f.default,alt:"Email",width:16,height:16,className:"absolute left-3 top-3"}),(0,b.jsx)("input",{type:"email",placeholder:"your@email.com",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg",value:t,onChange:a=>u(a.target.value),required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Phone Number"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:g,alt:"Phone",width:16,height:16,className:"absolute left-3 top-3"}),(0,b.jsx)("input",{type:"tel",placeholder:"+49 123 456 7890",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg",value:v,onChange:a=>w(a.target.value)})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Profile Image"}),(0,b.jsxs)("label",{className:"flex items-center gap-4 cursor-pointer border border-dashed border-gray-300 rounded-lg p-4 hover:bg-gray-50 transition",children:[D?(0,b.jsx)(d.default,{src:D,alt:"Preview",width:48,height:48,className:"rounded-full object-cover"}):(0,b.jsx)("div",{className:"w-12 h-12 flex items-center justify-center rounded-full bg-gray-200 text-gray-500",children:"+"}),(0,b.jsx)("input",{type:"file",accept:"image/*",onChange:a=>{let b=a.target.files?.[0];b&&(C(b),E(URL.createObjectURL(b)))},className:"hidden"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Password *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:h.default,alt:"Lock",width:16,height:16,className:"absolute left-3 top-3"}),(0,b.jsx)("input",{type:a?"text":"password",placeholder:"Create a password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg",value:x,onChange:a=>y(a.target.value),required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-2.5",children:a?(0,b.jsx)(j.FaEyeSlash,{}):(0,b.jsx)(d.default,{src:i.default,alt:"Eye",width:16,height:16})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Confirm Password *"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.default,{src:h.default,alt:"Lock",width:16,height:16,className:"absolute left-3 top-3"}),(0,b.jsx)("input",{type:m?"text":"password",placeholder:"Confirm your password",className:"w-full pl-10 pr-10 py-2 border border-gray-300 rounded-lg",value:z,onChange:a=>A(a.target.value),required:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>n(!m),className:"absolute right-3 top-2.5",children:m?(0,b.jsx)(j.FaEyeSlash,{}):(0,b.jsx)(d.default,{src:i.default,alt:"Eye",width:16,height:16})})]})]}),(0,b.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-b from-[#8b6f47] to-[#7a5f3a] h-[48px] text-white rounded-lg mt-4",disabled:G,children:G?"Creating...":"Create Account"})]})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__492af12c._.js.map